<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for the Bertelsmann Data Science Scholarship Program</title>
  <meta name="description" content="This book will be an R-based supplemental resource for those participating in the Bertelsmann Data Science Scholarship Program. It will contain sections of the curriculum translated into R and also supplemental tutorials on specific topics using R.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="R for the Bertelsmann Data Science Scholarship Program" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book will be an R-based supplemental resource for those participating in the Bertelsmann Data Science Scholarship Program. It will contain sections of the curriculum translated into R and also supplemental tutorials on specific topics using R." />
  <meta name="github-repo" content="jdbarillas/r4bdsp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for the Bertelsmann Data Science Scholarship Program" />
  
  <meta name="twitter:description" content="This book will be an R-based supplemental resource for those participating in the Bertelsmann Data Science Scholarship Program. It will contain sections of the curriculum translated into R and also supplemental tutorials on specific topics using R." />
  

<meta name="author" content="TBD">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction.html">
<link rel="next" href="topics-map-viz.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Specific Topics</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#contributors"><i class="fa fa-check"></i><b>1.1</b> Contributors</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#afton---map-visualizations"><i class="fa fa-check"></i><b>1.1.1</b> Afton - <span>Map Visualizations</span></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#jolynn---udacity-even-lessons"><i class="fa fa-check"></i><b>1.1.2</b> Jolynn - <span>Udacity Even Lessons</span></a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction.html"><a href="introduction.html#how-to-contribute"><i class="fa fa-check"></i><b>1.1.3</b> How to contribute</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="topics-lessons.html"><a href="topics-lessons.html"><i class="fa fa-check"></i><b>2</b> Udacity Even Lessons</a><ul>
<li class="chapter" data-level="2.1" data-path="topics-lessons.html"><a href="topics-lessons.html#lesson-2-visualization"><i class="fa fa-check"></i><b>2.1</b> Lesson 2 Visualization</a><ul>
<li class="chapter" data-level="2.1.1" data-path="topics-lessons.html"><a href="topics-lessons.html#data"><i class="fa fa-check"></i><b>2.1.1</b> Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="topics-lessons.html"><a href="topics-lessons.html#frequency"><i class="fa fa-check"></i><b>2.1.2</b> Frequency</a></li>
<li class="chapter" data-level="2.1.3" data-path="topics-lessons.html"><a href="topics-lessons.html#proportions"><i class="fa fa-check"></i><b>2.1.3</b> Proportions</a></li>
<li class="chapter" data-level="2.1.4" data-path="topics-lessons.html"><a href="topics-lessons.html#percentage"><i class="fa fa-check"></i><b>2.1.4</b> Percentage</a></li>
<li class="chapter" data-level="2.1.5" data-path="topics-lessons.html"><a href="topics-lessons.html#histogram"><i class="fa fa-check"></i><b>2.1.5</b> Histogram</a></li>
<li class="chapter" data-level="2.1.6" data-path="topics-lessons.html"><a href="topics-lessons.html#skew"><i class="fa fa-check"></i><b>2.1.6</b> Skew</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="topics-lessons.html"><a href="topics-lessons.html#lesson-4-variability"><i class="fa fa-check"></i><b>2.2</b> Lesson 4 Variability</a><ul>
<li class="chapter" data-level="2.2.1" data-path="topics-lessons.html"><a href="topics-lessons.html#data-1"><i class="fa fa-check"></i><b>2.2.1</b> Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="topics-lessons.html"><a href="topics-lessons.html#interquartile-range"><i class="fa fa-check"></i><b>2.2.2</b> Interquartile range</a></li>
<li class="chapter" data-level="2.2.3" data-path="topics-lessons.html"><a href="topics-lessons.html#box-plot"><i class="fa fa-check"></i><b>2.2.3</b> Box Plot</a></li>
<li class="chapter" data-level="2.2.4" data-path="topics-lessons.html"><a href="topics-lessons.html#outliers"><i class="fa fa-check"></i><b>2.2.4</b> Outliers</a></li>
<li class="chapter" data-level="2.2.5" data-path="topics-lessons.html"><a href="topics-lessons.html#variance"><i class="fa fa-check"></i><b>2.2.5</b> Variance</a></li>
<li class="chapter" data-level="2.2.6" data-path="topics-lessons.html"><a href="topics-lessons.html#standard-deviation"><i class="fa fa-check"></i><b>2.2.6</b> Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="topics-lessons.html"><a href="topics-lessons.html#lesson-6-normal-distribution"><i class="fa fa-check"></i><b>2.3</b> Lesson 6 Normal Distribution</a><ul>
<li class="chapter" data-level="2.3.1" data-path="topics-lessons.html"><a href="topics-lessons.html#probability-distribution-function."><i class="fa fa-check"></i><b>2.3.1</b> Probability Distribution Function.</a></li>
<li class="chapter" data-level="2.3.2" data-path="topics-lessons.html"><a href="topics-lessons.html#finding-the-probability"><i class="fa fa-check"></i><b>2.3.2</b> Finding the probability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="topics-map-viz.html"><a href="topics-map-viz.html"><i class="fa fa-check"></i><b>3</b> Map Visualizations</a><ul>
<li class="chapter" data-level="3.1" data-path="topics-map-viz.html"><a href="topics-map-viz.html#background"><i class="fa fa-check"></i><b>3.1</b> Background</a></li>
<li class="chapter" data-level="3.2" data-path="topics-map-viz.html"><a href="topics-map-viz.html#how-maps-work"><i class="fa fa-check"></i><b>3.2</b> How Maps Work</a></li>
<li class="chapter" data-level="3.3" data-path="topics-map-viz.html"><a href="topics-map-viz.html#plotting-data-over-a-map"><i class="fa fa-check"></i><b>3.3</b> Plotting Data Over a Map</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="topics-sql-dplyr.html"><a href="topics-sql-dplyr.html"><i class="fa fa-check"></i><b>4</b> Basic dplyr</a><ul>
<li class="chapter" data-level="4.1" data-path="topics-sql-dplyr.html"><a href="topics-sql-dplyr.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="topics-sql-dplyr.html"><a href="topics-sql-dplyr.html#importing-parch-and-posey-data"><i class="fa fa-check"></i><b>4.2</b> Importing Parch and Posey data</a></li>
<li class="chapter" data-level="4.3" data-path="topics-sql-dplyr.html"><a href="topics-sql-dplyr.html#select-columns-from-tables-with-select"><i class="fa fa-check"></i><b>4.3</b> Select columns from tables with <code>select()</code></a></li>
<li class="chapter" data-level="4.4" data-path="topics-sql-dplyr.html"><a href="topics-sql-dplyr.html#limit-the-number-of-rows-returned-with-head"><i class="fa fa-check"></i><b>4.4</b> Limit the number of rows returned with <code>head()</code></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for the Bertelsmann Data Science Scholarship Program</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="topics-lessons" class="section level1">
<h1><span class="header-section-number">2</span> Udacity Even Lessons</h1>
<div id="lesson-2-visualization" class="section level2">
<h2><span class="header-section-number">2.1</span> Lesson 2 Visualization</h2>
<p>In this exercise we will start by looking at the characteristics of our dataset. All definitions and data come from the original Udacity lesson and can be found <a href="https://www.udacity.com/api/nodes/1480558581/supplemental_media/lesson2pdf/download" title="Lesson2.pdf">here.</a></p>
<div id="data" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Data</h3>
<p>We start by assigning our data to Petals, a list of petal counts from flowers.</p>
<pre class="sourceCode r"><code class="sourceCode r">Petals &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>,
            <span class="dv">16</span>, <span class="dv">21</span>, <span class="dv">22</span>,
            <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">15</span>,
            <span class="dv">17</span>, <span class="dv">16</span>, <span class="dv">22</span>,
            <span class="dv">14</span>, <span class="dv">13</span>, <span class="dv">14</span>,
            <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">15</span>,
            <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">16</span>,
            <span class="dv">10</span>, <span class="dv">19</span>, <span class="dv">15</span>,
            <span class="dv">15</span>, <span class="dv">22</span>, <span class="dv">24</span>,
            <span class="dv">25</span>, <span class="dv">15</span>, <span class="dv">16</span>)</code></pre>
</div>
<div id="frequency" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Frequency</h3>
<p>The frequency of a data set is the number of times a certain outcome occurs.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find the most frequent petal count.</span>
<span class="co"># to do this we create a table from Petals, sort it in decreasing order, and get the name of the first item.</span>

MostFreq &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(Petals),<span class="dt">decreasing=</span><span class="ot">TRUE</span>)[<span class="dv">1</span>])
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The most frequent petal count is: &quot;</span>, MostFreq))</code></pre>
<pre><code>#&gt; [1] &quot;The most frequent petal count is: 15&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find the frequency of flowers with 15 petals.</span>
<span class="co"># We can use the same method as above but without the names</span>
PetalFreq &lt;-<span class="st"> </span><span class="kw">sort</span>(<span class="kw">table</span>(Petals),<span class="dt">decreasing=</span><span class="ot">TRUE</span>)[<span class="dv">1</span>]
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The frequency of flowers with 15 petals is: &quot;</span>, PetalFreq))</code></pre>
<pre><code>#&gt; [1] &quot;The frequency of flowers with 15 petals is: 9&quot;</code></pre>
</div>
<div id="proportions" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Proportions</h3>
<p>A proportion is the fraction of counts over the total sample.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find the proportion of flowers with 15 petals</span>

TotalSample &lt;-<span class="st"> </span><span class="kw">length</span>(Petals)
PetalProp &lt;-<span class="st"> </span>PetalFreq<span class="op">/</span>TotalSample
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The proportion of flowers with 15 petals is: &quot;</span>, PetalProp))</code></pre>
<pre><code>#&gt; [1] &quot;The proportion of flowers with 15 petals is: 0.3&quot;</code></pre>
</div>
<div id="percentage" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Percentage</h3>
<p>A proportion can be turned into a percentage by multiplying the proportion by 100.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Find the percentage of flowers with 15 petals</span>

PetalPerc &lt;-<span class="st"> </span>PetalProp <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The percentage of flowers with 15 petals is: &quot;</span>, PetalPerc, <span class="st">&quot;%&quot;</span>))</code></pre>
<pre><code>#&gt; [1] &quot;The percentage of flowers with 15 petals is: 30%&quot;</code></pre>
</div>
<div id="histogram" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Histogram</h3>
<p>A histogram is a graphical representation of the distribution of data, discrete intervals (bins) are decided upon to form widths for our boxes. R has the hist() function to make basic histograms. Here are some very simple examples.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a histogram with a bin size of 2</span>
<span class="kw">hist</span>(Petals, <span class="dt">breaks =</span> (<span class="kw">length</span>(Petals)<span class="op">/</span><span class="dv">2</span>), <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre>
<p><img src="lesson2_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a histogram with a bin size of 5</span>
bins &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">15</span>,<span class="dv">20</span>,<span class="dv">25</span>,<span class="dv">30</span>)
<span class="co">#hist(Petals, breaks = (length(Petals)/5))</span>
<span class="kw">hist</span>(Petals, <span class="dt">breaks =</span> bins, <span class="dt">col =</span> <span class="st">&quot;orange&quot;</span>)</code></pre>
<p><img src="lesson2_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="skew" class="section level3">
<h3><span class="header-section-number">2.1.6</span> Skew</h3>
<p><strong>Positive Skew</strong> - A positive skew is when outliers are present along the right most end of the distribution. The histogram for Petals is an example of a positive skew</p>
<p><strong>Negative Skew</strong> - A negative skew is when outliers are present along the left most end of the distribution</p>

</div>
</div>
<div id="lesson-4-variability" class="section level2">
<h2><span class="header-section-number">2.2</span> Lesson 4 Variability</h2>
<p>In this exercise we will start by looking at the variability of our dataset. All definitions and data come from the original Udacity lesson and can be found <a href="https://storage.googleapis.com/supplemental_media/udacityu/1471748603/Lesson4.pdf" title="Lesson4.pdf">here.</a></p>
<div id="data-1" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Data</h3>
<p>We start by assigning data to income and looking at the summary statistics. I am also going to grab all of the stats to use for labels.</p>
<pre class="sourceCode r"><code class="sourceCode r">income &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2500</span>, <span class="dv">3000</span>, <span class="dv">2900</span>
            ,<span class="dv">2650</span>, <span class="dv">3225</span>, <span class="dv">2700</span>
            ,<span class="dv">2740</span>, <span class="dv">3000</span>, <span class="dv">3400</span>
            ,<span class="dv">2500</span>, <span class="dv">3100</span>, <span class="dv">2700</span>)

<span class="kw">summary</span>(income)</code></pre>
<pre><code>#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#&gt;    2500    2688    2820    2868    3025    3400</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#names(income_stats)</span>
Income_min &lt;-<span class="st"> </span><span class="kw">min</span>(income)
Income_max &lt;-<span class="st"> </span><span class="kw">max</span>(income)
Income_med &lt;-<span class="st"> </span><span class="kw">median</span>(income)
Income_lowQ &lt;-<span class="st"> </span><span class="kw">unname</span>(<span class="kw">quantile</span>(income, <span class="kw">c</span>(<span class="fl">0.25</span>)))
Income_highQ &lt;-<span class="st"> </span><span class="kw">unname</span>(<span class="kw">quantile</span>(income, <span class="kw">c</span>(<span class="fl">0.75</span>)))</code></pre>
</div>
<div id="interquartile-range" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Interquartile range</h3>
<p>The Interquartile range (IQR) is the distance between the 1st quartile and 3rd quartile and gives us the range of the middle 50% of our data.
The IQR is easily found by computing: Q3 - Q1</p>
</div>
<div id="box-plot" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Box Plot</h3>
<p>A good way to view this is using a box plot. The IQR will be displayed within the box between Q1 and Q3.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(income, <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="fl">.75</span>,<span class="dt">y =</span> Income_min, <span class="dt">labels =</span> <span class="st">&quot;min&quot;</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="fl">.75</span>,<span class="dt">y =</span> Income_max, <span class="dt">labels =</span> <span class="st">&quot;max&quot;</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="fl">.75</span>,<span class="dt">y =</span> Income_med, <span class="dt">labels =</span> <span class="st">&quot;median&quot;</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="fl">.75</span>,<span class="dt">y =</span> Income_lowQ, <span class="dt">labels =</span> <span class="st">&quot;Q1&quot;</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="fl">.75</span>,<span class="dt">y =</span> Income_highQ, <span class="dt">labels =</span> <span class="st">&quot;Q3&quot;</span>)</code></pre>
<p><img src="lesson4_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="outliers" class="section level3">
<h3><span class="header-section-number">2.2.4</span> Outliers</h3>
<p>You can use the IQR to identify outliers:</p>
<ol style="list-style-type: decimal">
<li><p>Upper outliers: Q3 + (1.5 * IQR)</p></li>
<li><p>Lower outliers: Q1 - (1.5 * IQR)</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">IQR &lt;-<span class="st"> </span>Income_highQ <span class="op">-</span><span class="st"> </span>Income_lowQ
upper_outlier &lt;-<span class="st"> </span>Income_highQ <span class="op">+</span><span class="st"> </span>(<span class="fl">1.5</span> <span class="op">*</span><span class="st"> </span>IQR)
lower_outlier &lt;-<span class="st"> </span>Income_lowQ <span class="op">-</span><span class="st"> </span>(<span class="fl">1.5</span> <span class="op">*</span><span class="st"> </span>IQR)
<span class="kw">cat</span>(<span class="kw">paste0</span>(<span class="st">&quot;The Income IQR = $&quot;</span>,IQR,<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,
              <span class="st">&quot;Upper Outliers are above: $&quot;</span>, upper_outlier,<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,
              <span class="st">&quot;Lower Outliers are below: $&quot;</span>,lower_outlier))</code></pre>
<pre><code>#&gt; The Income IQR = $337.5
#&gt; Upper Outliers are above: $3531.25
#&gt; Lower Outliers are below: $2181.25</code></pre>
</div>
<div id="variance" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Variance</h3>
<p>The variance is the average of the squared differences from the mean. The formula for computing variance is:
<span class="math display">\[\sigma^{2} = \frac{\sum_{i=1}^{n} 
  \left(x_{i} - \bar{x}\right)^{2}}
  {n-1}\]</span></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># first let&#39;s calculate it from scratch</span>
<span class="co"># get the mean of income</span>
s_mean &lt;-<span class="st"> </span><span class="kw">mean</span>(income)
<span class="co"># get the difference between each income and the mean</span>
r_diff &lt;-<span class="st"> </span><span class="cf">function</span>(x){x <span class="op">-</span><span class="st"> </span>s_mean}
diff_of_mean &lt;-<span class="st"> </span><span class="kw">r_diff</span>(income)
<span class="co"># get the sqr_root of each data point</span>
sqr_of_diff &lt;-<span class="st"> </span>diff_of_mean<span class="op">^</span><span class="dv">2</span>
<span class="co">#sum the squares</span>
sum_sqrs &lt;-<span class="st"> </span><span class="kw">sum</span>(sqr_of_diff)
<span class="co"># Divide by the number of samples - 1</span>
Var_income &lt;-<span class="st"> </span>sum_sqrs <span class="op">/</span><span class="st"> </span>(<span class="kw">length</span>(income) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The variance caluclated by hand: &quot;</span>, Var_income))</code></pre>
<pre><code>#&gt; [1] &quot;The variance caluclated by hand: 81033.9015151515&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># we can also use the built in function in R</span>
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The variance using the R built in function: &quot;</span>,<span class="kw">var</span>(income)))</code></pre>
<pre><code>#&gt; [1] &quot;The variance using the R built in function: 81033.9015151515&quot;</code></pre>
</div>
<div id="standard-deviation" class="section level3">
<h3><span class="header-section-number">2.2.6</span> Standard Deviation</h3>
<p>The standard deviation is the square root of the variance and is used to measure distance from the mean. In a normal distribution 65% of the data lies within 1 standard deviation from the mean,95% within 2 standard deviations, and 99.7% within 3 standard deviations.</p>
<pre class="sourceCode r"><code class="sourceCode r">std_income &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">sqrt</span>(Var_income),<span class="dv">2</span>)

<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The standard deviation caluclated by hand: &quot;</span>, std_income))</code></pre>
<pre><code>#&gt; [1] &quot;The standard deviation caluclated by hand: 284.66&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># we can also use the built in function in R</span>
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The standard deviation using the R built in function: &quot;</span>,<span class="kw">round</span>(<span class="kw">sd</span>(income),<span class="dv">2</span>)))</code></pre>
<pre><code>#&gt; [1] &quot;The standard deviation using the R built in function: 284.66&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">pos_<span class="dv">1</span>_std &lt;-<span class="st"> </span>s_mean <span class="op">+</span><span class="st"> </span>std_income
pos_<span class="dv">2</span>_std &lt;-<span class="st"> </span>s_mean <span class="op">+</span><span class="st"> </span>std_income <span class="op">*</span><span class="st"> </span><span class="dv">2</span>
neg_<span class="dv">1</span>_std &lt;-<span class="st"> </span>s_mean <span class="op">-</span><span class="st"> </span>std_income
neg_<span class="dv">2</span>_std &lt;-<span class="st"> </span>s_mean <span class="op">-</span><span class="st"> </span>std_income <span class="op">*</span><span class="st"> </span><span class="dv">2</span></code></pre>
<p>Letâ€™s visualize this. I add in lines for one and two standard deviations but, because the data are not normal the standard deviations fall outside of the ranges defined by the three sigma rule of thumb.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(income, <span class="dt">probability =</span> <span class="ot">TRUE</span>, <span class="dt">col =</span> <span class="st">&quot;orange&quot;</span>)
<span class="kw">lines</span>(<span class="kw">density</span>(income))
<span class="kw">abline</span>(<span class="dt">v =</span> s_mean, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, )
<span class="kw">abline</span>(<span class="dt">v =</span> pos_<span class="dv">1</span>_std, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> neg_<span class="dv">1</span>_std, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> pos_<span class="dv">2</span>_std, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> neg_<span class="dv">2</span>_std, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>)
<span class="kw">text</span>(s_mean <span class="op">-</span><span class="st"> </span><span class="dv">20</span>,.<span class="dv">0015</span>, <span class="kw">expression</span>(mu))
<span class="kw">text</span>(pos_<span class="dv">1</span>_std <span class="op">-</span><span class="st"> </span><span class="dv">40</span>,.<span class="dv">0015</span>, <span class="kw">expression</span>(mu <span class="op">+</span><span class="st"> </span>sigma))
<span class="kw">text</span>(neg_<span class="dv">1</span>_std <span class="op">-</span><span class="st"> </span><span class="dv">40</span>,.<span class="dv">0015</span>, <span class="kw">expression</span>(mu <span class="op">-</span><span class="st"> </span>sigma))
<span class="kw">text</span>(pos_<span class="dv">2</span>_std <span class="op">-</span><span class="st"> </span><span class="dv">40</span>,.<span class="dv">0015</span>, <span class="kw">expression</span>(mu <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>sigma))</code></pre>
<p><img src="lesson4_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>

</div>
</div>
<div id="lesson-6-normal-distribution" class="section level2">
<h2><span class="header-section-number">2.3</span> Lesson 6 Normal Distribution</h2>
<p>In this exercise we will find the probability of a given observation within a normal distribution. All definitions and data come from the original Udacity lesson and can be found <a href="https://storage.googleapis.com/supplemental_media/udacityu/1478678538/Lesson6.pdf" title="Lesson6.pdf">here.</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;ggfortify&quot;)</span>
<span class="co">#library(ggfortify)</span></code></pre>
<div id="probability-distribution-function." class="section level3">
<h3><span class="header-section-number">2.3.1</span> Probability Distribution Function.</h3>
<p>The probability distribution function is a normal curve with an area of 1 beneath it, to represent the cumulative frequency of values.</p>
<div id="data-2" class="section level4">
<h4><span class="header-section-number">2.3.1.1</span> Data</h4>
<pre class="sourceCode r"><code class="sourceCode r">mean=<span class="fl">1.85</span>; sd=.<span class="dv">15</span>
lb=<span class="fl">1.7</span>; ub=<span class="dv">2</span>

<span class="co">#generate student heights</span>
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">4</span>,<span class="dv">4</span>,<span class="dt">length=</span><span class="dv">100</span>)<span class="op">*</span>sd <span class="op">+</span><span class="st"> </span>mean
hx &lt;-<span class="st"> </span><span class="kw">dnorm</span>(x,mean,sd)</code></pre>
</div>
<div id="create-a-density-plot" class="section level4">
<h4><span class="header-section-number">2.3.1.2</span> Create a density plot</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(x, hx, <span class="dt">type=</span><span class="st">&quot;n&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Student Height Values&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
  <span class="dt">main=</span><span class="st">&quot;Probability Distribution&quot;</span>)
<span class="kw">lines</span>(x, hx)
<span class="kw">polygon</span>(<span class="kw">c</span>(lb,x,ub), <span class="kw">c</span>(<span class="dv">0</span>,hx,<span class="dv">0</span>), <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>) </code></pre>
<p><img src="lesson6_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
</div>
<div id="finding-the-probability" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Finding the probability</h3>
<p>If given an observation, you can find the probability and show the area below, above, and between particular observations. To do this you must first calculated the z-score</p>
<div id="z-score" class="section level4">
<h4><span class="header-section-number">2.3.2.1</span> Z-Score</h4>
<p><span class="math display">\[ z=\frac{x-\mu}{\sigma}\]</span>
The z-score is calculated by taking the observation minus the mean and dividing by the standard deviation. If given an observation of 2.05 meters the z-score would be calculated as follows:</p>
<pre class="sourceCode r"><code class="sourceCode r">obs1 &lt;-<span class="st"> </span><span class="fl">2.05</span>
obs1_zscore &lt;-<span class="st"> </span><span class="kw">round</span>((obs1 <span class="op">-</span><span class="st"> </span>mean)<span class="op">/</span>sd, <span class="dv">2</span>)

<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The Z-Score for a student with the Height of 2.05 meters is: &quot;</span>, obs1_zscore))</code></pre>
<pre><code>#&gt; [1] &quot;The Z-Score for a student with the Height of 2.05 meters is: 1.33&quot;</code></pre>
</div>
<div id="proportion-using-a-z-table" class="section level4">
<h4><span class="header-section-number">2.3.2.2</span> Proportion using a z-table</h4>
<p>From this we know that a height of 2.05 is 1.33 standard deviations away from the mean. With this information we can use a z-table to determine the proportion of students that are shorter than this. The z-table can be found <a href="https://s3.amazonaws.com/udacity-hosted-downloads/ZTable.jpg," title="ztable">here.</a></p>
<p>From the z-table we get a proportion of .9082 or 90.82 percent. A person with the height of 2.05 is taller than 90.82 percent of the students.
We can calculate this in R using the pnorm function. It will give a more exact number than when using the table.</p>
</div>
<div id="proportion-using-pnorm" class="section level4">
<h4><span class="header-section-number">2.3.2.3</span> Proportion using pnorm</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#you can also use pnorm to get the proportion rather than looking it up in a z-table</span>
obs1_spor &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">pnorm</span>(obs1, mean, sd),<span class="dv">4</span>)
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;The proportion of students shorter than 2.05 meters is: &quot;</span>, obs1_spor))</code></pre>
<pre><code>#&gt; [1] &quot;The proportion of students shorter than 2.05 meters is: 0.9088&quot;</code></pre>
</div>
<div id="plotting-the-percentage" class="section level4">
<h4><span class="header-section-number">2.3.2.4</span> Plotting the percentage</h4>
<p>By multiplying the proportion by 100 you can get the percentage of students that are shorter than 2.05 meters. You can also find the percentage of students that are taller than 2.05 meters by subtracting the proportion from 1.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># a plot of the data</span>
<span class="kw">plot</span>(x, hx, <span class="dt">type=</span><span class="st">&quot;n&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Student Height Values&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
  <span class="dt">main=</span><span class="st">&quot;Percentage above and below 2.05 meters&quot;</span>)

<span class="co"># to plot the proportion I grab the samples that are above and below the observation. </span>
i &lt;-<span class="st"> </span>x <span class="op">&lt;=</span><span class="st"> </span>obs1
o &lt;-<span class="st"> </span>x <span class="op">&gt;=</span><span class="st"> </span>obs1
<span class="kw">lines</span>(x, hx)

<span class="co"># I use the gathered high and low observations to make polygons showing the area.</span>
<span class="kw">polygon</span>(<span class="kw">c</span>(lb,x[i],obs1), <span class="kw">c</span>(<span class="dv">0</span>,hx[i],<span class="dv">0</span>), <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>) 
<span class="kw">polygon</span>(<span class="kw">c</span>(obs1,x[o],ub), <span class="kw">c</span>(<span class="dv">0</span>,hx[o],<span class="dv">0</span>), <span class="dt">col=</span><span class="st">&quot;yellow&quot;</span>) 

<span class="co">#label the percentage</span>
taller_obs1 &lt;-<span class="st"> </span><span class="kw">round</span>((<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>obs1_spor) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>, <span class="dv">2</span>)
shorter_obs1 &lt;-<span class="st"> </span>obs1_spor <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
<span class="kw">text</span>(<span class="fl">1.8</span>,.<span class="dv">3</span>, <span class="dt">labels =</span> shorter_obs1, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)
<span class="kw">text</span>(<span class="fl">2.1</span>,.<span class="dv">3</span>, <span class="dt">labels =</span> taller_obs1, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre>
<p><img src="lesson6_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="proportion-of-a-range" class="section level4">
<h4><span class="header-section-number">2.3.2.5</span> Proportion of a range</h4>
<p>You can find the proportion of students that fall between a given range by subtraction the proportion of the first observation from the proportion of the second observation.</p>
<pre class="sourceCode r"><code class="sourceCode r">obs2 &lt;-<span class="st"> </span><span class="fl">1.87</span>
obs2_spor &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">pnorm</span>(obs2, mean, sd),<span class="dv">4</span>)

<span class="co"># a plot of the data</span>
<span class="kw">plot</span>(x, hx, <span class="dt">type=</span><span class="st">&quot;n&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Student Height Values&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
  <span class="dt">main=</span><span class="st">&quot;Percentage between 1.87 and 2.05 meters&quot;</span>)

<span class="co"># to plot the proportion I grab the samples that are between the observations. </span>
i_diff &lt;-<span class="st"> </span>x <span class="op">&gt;=</span><span class="st"> </span>obs2 <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;=</span><span class="st"> </span>obs1

<span class="kw">lines</span>(x, hx)

<span class="co"># I use the gathered range of observations to make polygons showing the area.</span>
<span class="kw">polygon</span>(<span class="kw">c</span>(obs2,x[i_diff],obs1), <span class="kw">c</span>(<span class="dv">0</span>,hx[i_diff],<span class="dv">0</span>), <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>) 


<span class="co">#label the percentage</span>
between_obs &lt;-<span class="st"> </span><span class="kw">round</span>((obs1_spor <span class="op">-</span><span class="st"> </span>obs2_spor) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>, <span class="dv">2</span>)

<span class="kw">text</span>(<span class="fl">1.95</span>,.<span class="dv">3</span>, <span class="dt">labels =</span> between_obs, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</code></pre>
<p><img src="lesson6_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="topics-map-viz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
